@model movieViewModel
@{
	ViewBag.Homeactiv = "Homeactiv";
	var UserType = ViewData["UserType"] as string;
}

<br />
<div id="kt_app_content" class="app-content flex-column-fluid">
	<!--begin::Content container-->
	<div id="kt_app_content_container" class="app-container container-xxl">
		<!-- begin::Invoice 3-->
		<div class="card">
			<!-- begin::Body-->
			<div class="card-body py-20">
				<!-- begin::Wrapper-->
				<div class="mw-lg-950px mx-auto w-100">
					<!-- begin::Header-->
					<div class="d-flex justify-content-center align-items-center flex-column flex-sm-row mb-19">
						
						<!--end::Logo-->
						<div >
							<!--begin::Logo-->
							<div style="border-radius:50%; overflow:hidden; display:grid;place-items:center;">

								<a href="#" class="d-block mw-150px symbol-circle " style="width:100%;height:100%;">
									<img alt="Logo" src="~/Image/@Model.ImageURL" class="w-100" style="width:100%;height:100%;" />
							</a>
							</div>
							
							<br />
							<h4 class="fw-bolder text-gray-800 fs-2qx pe-5 pb-7" style="text-align:center">@Model.Name</h4>
							<!--end::Logo-->
							<!--begin::Text-->

							<div class="text-sm-center fw-semibold fs-4 text-muted mt-7">
								<div>Description : @Model.Description</div>
								<div>Created At : @Model.CreatedAt</div>
							</div>
							<!--end::Text-->
						</div>
					</div>

					<!--end::Header-->
					<!--begin::Body-->
					<div class="pb-12">
						<!--begin::Wrapper-->
						<div class="d-flex flex-column gap-7 gap-md-10">
							<!--begin::Message-->
							
							<!--begin::Message-->
							<!--begin::Separator-->
							<div class="separator"></div>
							<!--begin::Separator-->
							<!--begin::Order details-->
							<div class="d-flex flex-column flex-sm-row gap-7 gap-md-10 fw-bold">
								<div class="flex-root d-flex flex-column">
									<span class="text-muted">Price</span>
									<span class="fs-5">$@Model.Price</span>
								</div>
								<div class="flex-root d-flex flex-column">
									<span class="text-muted">Start Date</span>
									<span class="fs-5">@Model.StartDate</span>
								</div>
								<div class="flex-root d-flex flex-column">
									<span class="text-muted">End Date</span>
									<span class="fs-5">@Model.EndDate</span>
								</div>
								<div class="flex-root d-flex flex-column">
									<span class="text-muted">Cinema</span>
									<span class="fs-5">@Model.Cinema.Name</span>
								</div>
							</div>
							<!--end::Order details-->
							<!--begin::Billing & shipping-->
							<div class="d-flex flex-column flex-sm-row gap-7 fw-bold">

								<div class="flex-root d-flex flex-column">
									<span class="text-muted">Director</span>
									<span class="fs-5">
										@Model.Director.Name
									</span>
								</div>
								
								<div class="flex-root d-flex flex-column">
									<span class="text-muted" >Category</span>
									<span class="fs-5">
										@Model.Category.Name
									</span>
								</div>
							</div>


							<!--end::Billing & shipping-->
							<!--begin:Order summary-->
							<div class="d-flex justify-content-between flex-column" style="display:flex;justify-content:end; align-items:center">
								@if (Model.NumberRater != 0)
								{
									<h1>Rating</h1>
									<br />
									<br />
									<div style="display:flex;justify-content:end; align-items:center">
										@for (var i = 0; i < (Model.NumberOfStars) / Model.NumberRater; i++)
									{
										<div class="rating-label me-7 checked" >
											<i class="bi bi-star-fill fs-50"></i>
										</div>
									}
									
									</div>
									
								}
								else
								{
									<h4 class="fw-bolder text-gray-800 fs-2qx pe-5 pb-7" style="text-align:center">No Rated</h4>
								}
								<br>
								<br>


								<!--begin::Table-->
								<h4 class="fw-bolder text-gray-800 fs-2qx pe-5 pb-7" style="text-align:center">Actors</h4>
								<div class="table-responsive border-bottom mb-9">
									<table class="table align-middle table-row-dashed fs-6 gy-5 mb-0">
										<thead>
											<tr class="border-bottom fs-6 fw-bold text-muted">
												<th class="min-w-175px pb-2">Actor</th>
												<th class="min-w-70px text-end pb-2">Bio</th>
												<th class="min-w-80px text-end pb-2">Gender</th>
												<th class="min-w-100px text-end pb-2">Rating</th>
											</tr>
										</thead>
										<tbody class="fw-semibold text-gray-600">
											<!--begin::Products-->

											@foreach(var actor in Model.Actors)
											{
												<tr>
													<!--begin::Product-->
													<td>
														<div class="d-flex align-items-center">
															<!--begin::Thumbnail-->
															<div class="symbol symbol-45px me-5">
																<img alt="Pic" src="~/Image/@actor.ImageURl" />
															</div>
															<!--end::Thumbnail-->
															<!--begin::Title-->
															<div class="ms-5">
																<div class="fw-bold">@actor.Name</div>
																<div class="fs-7 text-muted">Birth Day : @actor.DOB</div>
															</div>
															<!--end::Title-->
														</div>
													</td>
													<!--end::Product-->
													<!--begin::SKU-->
													<td class="text-end">@actor.Bio</td>
													<!--end::SKU-->
													<!--begin::Quantity-->
													<td class="text-end">@actor.Gender</td>
													<!--end::Quantity-->
													<!--begin::Total-->
													<td class="text-center" style="display:flex;justify-content:end; align-items:center;margin-top:0.5rem;">
														@for(var i = 0 ; i < actor.Rating ; i++){
															<div class="rating-label me-2 checked">
																<i class="bi bi-star-fill fs-5"></i>
															</div>
														}
													</td>
													<!--end::Total-->
												</tr>
											}
										
											
											<!--end::Products-->
											<!--begin::Subtotal-->
											
											<!--end::Grand total-->
										</tbody>
									</table>

									
								</div>
								<!--end::Table-->

								<div class="col-md-3 container-fluid" style="text-align : center">
									<a class="btn btn-danger" href="~/Home/Index">Back</a>
									@if (UserType != "Admin")
									{
										<a class="btn btn-primary" href="~/Home/buying/@Model.Id">buying</a>
									}
									
								</div>
							</div>
							<!--end:Order summary-->
						</div>
						<!--end::Wrapper-->
					</div>
					<!--end::Body-->
					<!-- begin::Footer-->
					
					<!-- end::Footer-->
				</div>
				<!-- end::Wrapper-->
			</div>
			<!-- end::Body-->
		</div>
		<!-- end::Invoice 1-->
	</div>
	<!--end::Content container-->
</div>